% !TeX root = ../thuthesis-example.tex

\chapter{总结与展望}
\section{论文工作总结}
随着信息技术和工业物联网的发展，数据规模变得越来越大，数据来源
也越来越丰富。在日益多样化的大数据中，时间序列数据是一种应用范围广，
研究价值高的数据类型。针对时间序列的数据分析和模式挖掘，
可以解析构成时间序列的不同成分，提取蕴含在数据内部的高价值知识。
对称模式是一种在时间序列中广泛存在的模式类型，
数据分析从业人员通过挖掘时间序列中的对称模式可以发现
时序数据内部的自相关信息，统计镜像变换的数量指标，得到长期的变化规律。
本文主要研究在多源时间序列数据上进行对称模式挖掘。时间序列对称模式分为两种类型，
全局对称模式和分段对称模式，本文分别针对这两种模式设计了不同的挖掘算法，
并在多源数据集上验证了算法的效果和性能。

对于全局时间序列进行对称模式挖掘，首先需要计算的就是全局时间序列的对称度。
时间序列不同于字符串序列，没有严格的对称中心，由于不同阶段持续时间不同，
前后序列也不一定一一对应进行匹配。然而，本文研究发现无论全局时间序列
如何对应达到最优的匹配效果，第一个点和最后一个点是必然匹配的。
在此基础之上，序列前置点可以倒序和序列后置点进行匹配。
而决定前置点在后置匹配候选点中进行选择的最优化目标不是两点之间的
距离，而是前置点和后置点之间时间子序列的对称性，这形成了一个
具有嵌套结构的子问题。因此，本文基于区间动态规划思想设计了
一个全局时间序列对称性度量算法。在得到时间序列的全局对称度之后，
还需要通过阈值才能将真正的对称模式分类出来。
工业场景中的对称度阈值往往由领域专家设定，但作为一个统一的应用于多源
时间序列对称模式挖掘的算法，阈值需要由算法计算生成。本文研究发现，
相对变化剧烈的时间序列，对称度阈值较大；而相对变化缓和的时间序列，
对称度阈值较小。因此，本文根据时间序列的数据变化特征确定了对称度阈值，
以用于挖掘对称模式。本文在第5章对全局对称模式的挖掘效果进行了评估，
通过在来自UCR的两个具有全局对称性的数据集和两个不具有全局对称性的数据集上
进行实验发现，相比于通过原始和反转时间序列相似性或通过对称中心
两侧子序列相似性度量对称性的方法，本方法不仅能保证挖掘出来的对称模式准确率
很高，在所有挖掘出来的对称模式中的真实对称模式样本比例最高，而且能保证
尽量挖掘出所有的对称模式，在挖掘准确性和完备性之间做了很好的均衡，算法的
综合评价相比其他算法最高。

对于分段时间序列进行对称模式挖掘，首先需要进行时间序列的分段处理，
基于关键点检测的分段方法不仅效率低，而且有可能错误将
对称模式分到不同的子序列中。为保证挖掘出所有的
对称模式，本文设计的分段挖掘算法利用滑动窗口度量了
所有子序列的对称性。为了减少重复计算并尽可能的利用上一个滑动窗口
的状态信息，将全局对称性度量算法进行扩展，引入子序列长度约束参数$w$，
在长度为$n$的时间序列$X$中按照长度由小到大的计算所有不超过$w$的
子序列对称度，然后再根据对称度阈值过滤对称子序列。
对于分段时间序列对称模式而言，除了时序数据变化特征可以用为对称度的约束，
通过对子序列对称度聚类得到的分界点同样可以作为对称度的约束。基于此，本文根据
时序数据特征和对称度分布重新定义了时间子序列的对称度阈值。在过滤得到
所有的对称子序列之后，通过贪心策略选择数量最多且不重叠的对称子序列作为分段对称模式。
本文在第5章中对分段对称模式的挖掘效果和时间效率进行了评估，
通过一个合成数据集和三个来自真实工业与金融业场景的数据集上进行实验，
发现本算法挖掘出来的分段对称模式数量和真实数量偏差最小，远超过
基于一一对应匹配的算法，即使基于动态时间扭曲的算法在挖掘效果上
也并未超过本算法。并且，由于本算法利用滑动窗口对动态规划状态设计进行了
优化，本算法的时间效率和一一对应匹配算法处于同一级别，比基于动态时间扭曲的算法
性能高上了100多倍。

在设计了全局和分段对称模式挖掘算法之后，本文将算法在更多的应用场景上进行了扩展。
首先在研究了在流式数据上挖掘对称模式的方法。本文优化了
全局时间序列对称模式挖掘算法状态推导过程，
在对称度矩阵上创造性地引入了滑动窗口，
在不违反对称度状态连续性和单调性的前提下，采用以空间换时间的
策略将流式对称模式的计算时间复杂度由$O\left(w^2\right)$
提升至了$O\left(w\right)$。此外，本文还在对称模式的
挖掘过程中引入了自适应窗口，通过时间序列的数据特征自动地调节
窗口大小，以保证挖掘对称模式的完整性。在第5章的实验中，
本文在真实工业场景中的数据集上对自适应窗口进行了实验，
发现在变长对称模式存在的场景中，自适应窗口能显著提高对称模式挖掘的完整性。

综上所述，本文设计了在全局和分段时间序列中进行对称模式挖掘的算法，
并通过实验验证，发现本算法不仅具有最好的对称模式挖掘效果，而且在时间效率
上也远高于动态时间扭曲方法，并且通过调整约束可以将本算法推广到流式数据和
变长模式的复杂场景中。同时，本文还将对称模式挖掘算法进行了系统实现，
把这些算法作为自定义函数整合到了IoTDB中，在补全了IoTDB关于对称模式
挖掘的功能缺失之外，还提高了IoTDB对时间序列的分析和预测能力。

\section{未来工作展望}
对称模式挖掘算法挖掘出了时间序列中变换后互为镜像的模式信息，
在轨迹跟踪，行为分析，异常检测等应用场景中均具有重要价值。
基于本文的研究内容，未来还可以开展以下的工作：

一是本文设计的对称性度量算法虽然解决了一一对应的带来的本地
时间偏移和不对齐的问题，但本质上还属于顺序匹配，时间序列前驱点和
后置点之间并不能交叉匹配，如果时间序列带有乱序时间戳的话，则无法识别。
并且，本文的对称性度量算法立足于全局最优匹配，为每个点都计算了最佳匹配点，
虽然利用了时间序列中蕴含的所有信息，但对于个别异常点也进行了匹配。
在异常较多的时间序列中，最好先进行异常检测和修复再利用本算法挖掘对称模式。

二是本文设计的对称度阈值算法对数据集具有一定的局限性。对称度阈值算法
通过时间序列数据特征和对称度分布特征确定了模式对称度的上限，
即对称度小于阈值的即可识别为对称模式。本文设计的
对称性度量算法尽可能的对时间序列进行最优匹配而导致对称度结果较小，
因此，本算法在对称模式较多或者数据变化剧烈的时间序列中具有较好的效果。
而在时间序列变化较平缓且对称模式较少的序列中，可能无法通过算法挖掘出
正确的对称模式。因此，需要根据数据特征再设计确定对称度阈值下限的算法。

最后，本算法挖掘出来的对称模式还可以进行进一步的研究。长度相同的
对称模式不一定具有相同的形状，还可以通过聚类算法挖掘出多类对称模式。
此外，时间序列中蕴含的对称模式数量和类别还可以作为后续分析的特征输入，
可以用来执行分类等任务。




